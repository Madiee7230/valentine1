<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>One Important Question ‚ù§Ô∏è</title>

<!-- EMAILJS -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
  (function () {
    emailjs.init("xJtiE1vxusGghg4U3"); // ‚úÖ your public key
  })();
</script>

<style>
body{
  margin:0;height:100vh;overflow:hidden;
  background:radial-gradient(circle at top,#7a1220,#2b0209);
  font-family:"Segoe UI",sans-serif;
  display:flex;justify-content:center;align-items:center;
  color:#fff;
}
.card{
  width:90%;max-width:520px;
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(18px);
  padding:46px;border-radius:26px;
  box-shadow:0 40px 120px rgba(0,0,0,.7);
  text-align:center;
}
button{
  width:100%;margin:10px 0;
  padding:14px;border-radius:30px;border:none;
  font-size:16px;cursor:pointer;
}
.primary{background:#ff4d6d;color:white}
.secondary{background:transparent;border:1px solid #fff;color:white}
</style>
</head>

<body>

<div id="card" class="card"></div>

<script>
const NAME = "Dani";
let index = -1;
let softScore = 0;
let boldScore = 0;
let answers = [];

const questions = [
["How should I come close to you?","Slowly and softly","Right away with a smile"],
["When I look at you, do you want me to‚Ä¶","Grab you right away","Slowly build to get all of you"],
["My touch should be‚Ä¶","Gentle and cute","A little bold"],
[`So tell me‚Ä¶ ${NAME}, will you be my Valentine? ‚ù§Ô∏è`,"Yes ü•∞","Of course üòò"]
];

function renderIntro(){
  document.getElementById("card").innerHTML = `
    <h2>Hey ${NAME}‚Ä¶ ‚ù§Ô∏è</h2>
    <p>Answer honestly‚Ä¶ I have something important to ask you üòâ</p>
    <button class="primary" onclick="start()">I‚Äôm ready</button>
  `;
}

function start(){
  index = 0;
  renderQuestion();
}

function renderQuestion(){
  const q = questions[index];
  document.getElementById("card").innerHTML = `
    <h2>${q[0]}</h2>
    <button class="primary" onclick="answer('soft')">${q[1]}</button>
    <button class="secondary" onclick="answer('bold')">${q[2]}</button>
  `;
}

function answer(type){
  answers.push({
    question: questions[index][0],
    answer: type === "soft" ? questions[index][1] : questions[index][2]
  });

  if(type === "soft") softScore++;
  else boldScore++;

  index++;
  if(index >= questions.length) finish();
  else renderQuestion();
}

function finish(){
  console.log("FINISH CALLED");
  console.log("ANSWERS:", answers);

  emailjs.send(
    "service_1gcd58s",        // ‚úÖ your service ID
    "valentine_answers",      // ‚úÖ your template ID
    {
      answers: answers
        .map((a,i)=>`${i+1}. ${a.question}\n‚Üí ${a.answer}`)
        .join("\n\n")
    }
  ).then(
    res => {
      console.log("‚úÖ EMAIL SENT", res);
    },
    err => {
      console.error("‚ùå EMAIL FAILED", err);
    }
  );

  document.getElementById("card").innerHTML = `
    <h2>It‚Äôs a date ‚ù§Ô∏è</h2>
    <p>I wish I could be with you.</p>
  `;
}

renderIntro();
</script>

</body>
</html>
